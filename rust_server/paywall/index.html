<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module holds the key logic for a pay-per-article paywall In here, things have become quite abstract but with the (hopeful) advantage of being fairly extensible for the future."><title>rust_server::paywall - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rust_server" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0 (79e9716c9 2023-11-13)" data-channel="1.74.0" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../rust_server/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../rust_server/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module paywall</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">rust_server</a>::<wbr><a class="mod" href="#">paywall</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/rust_server/paywall/mod.rs.html#1-35">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module holds the key logic for a pay-per-article paywall
In here, things have become quite abstract but with the (hopeful) advantage
of being fairly extensible for the future.</p>
<p>Some ideas including paywalling other file-formats, quarto books and possibly
also a way to implement a subscription based paywall</p>
<p>In general, this module consists of 3 modules:</p>
<ul>
<li>A recursive filereader: Reads through a complete folder and loads filepaths
and filenames for all given filetypes</li>
<li>A file manipulator: Manipulates the files by user provided functions and allows
to assign the output of each function to a session based property.
E.g. we read all HTML quarto outputs, remove paywalled content and add respective
notifications to the document, based on the user privileges (logged out, logged in,
paid for article).</li>
<li>A paywall extraction function: Extracts the properties of the paywalled item (identifier,
price, link) from the object that was loaded from the filereader. Currently, this is
just done for html/text but we could potentially also implement that for videos or pdfs</li>
</ul>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="paywall_server/index.html" title="mod rust_server::paywall::paywall_server">paywall_server</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="paywall_server_factory/index.html" title="mod rust_server::paywall::paywall_server_factory">paywall_server_factory</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="quarto_paywall/index.html" title="mod rust_server::paywall::quarto_paywall">quarto_paywall</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="recursive_filereader/index.html" title="mod rust_server::paywall::recursive_filereader">recursive_filereader</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="session_conditional_manipulation/index.html" title="mod rust_server::paywall::session_conditional_manipulation">session_conditional_manipulation</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="session_conditional_object/index.html" title="mod rust_server::paywall::session_conditional_object">session_conditional_object</a>::*;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="paywall_server/index.html" title="mod rust_server::paywall::paywall_server">paywall_server</a></div><div class="desc docblock-short">Main abstraction of the paywall module. <code>PaywallServer</code> is a trait that
contains all the necessary functions to handle paywalled content in an abstract way.
Right now, an <code>std::collections::HashMap</code> is the implementation of choice but other,
more efficient data structures could be implemented as well in the future.</div></li><li><div class="item-name"><a class="mod" href="paywall_server_factory/index.html" title="mod rust_server::paywall::paywall_server_factory">paywall_server_factory</a></div><div class="desc docblock-short">Factory method to create a paywall server from its key components
(i.e. recursive filereader, object manipulator, paywall extractor)</div></li><li><div class="item-name"><a class="mod" href="quarto_paywall/index.html" title="mod rust_server::paywall::quarto_paywall">quarto_paywall</a></div><div class="desc docblock-short">Unifying factory method to create a paywall for quarto HTML pages; this is not necessarily
the only use case and other types of content, e.g. documents or videos could also be 
put behind a paywall in the future. Only a few changes and/or additions should be necessary
to accomplish the latter.</div></li><li><div class="item-name"><a class="mod" href="recursive_filereader/index.html" title="mod rust_server::paywall::recursive_filereader">recursive_filereader</a></div><div class="desc docblock-short">Simple filereader to recursively read and load all files from a designated directory 
(e.g. the quarto export directory)</div></li><li><div class="item-name"><a class="mod" href="session_conditional_manipulation/index.html" title="mod rust_server::paywall::session_conditional_manipulation">session_conditional_manipulation</a></div><div class="desc docblock-short">Abstractions to manipulate data and assign the output to a <code>SessionConditionalObject</code>, e.g.
to serve variations of the same object based on different values of a user session
(e.g. their privileges)</div></li><li><div class="item-name"><a class="mod" href="session_conditional_object/index.html" title="mod rust_server::paywall::session_conditional_object">session_conditional_object</a></div><div class="desc docblock-short">Stores variations of the same object and returns a variation based on given properties of the
user session</div></li></ul></section></div></main></body></html>